#!/bin/bash

#
# 简体转繁体
#

# 获取当前路径
GET_PATH=$(pwd)

# 进入临时目录
cd $(mktemp -d)
# 获取临时目录路径
GET_TEMP_PATH=$(pwd)

# 判断是否为文件
if [[ -f "$1" ]]; then
    opencc -i "$GET_PATH/$1" -o "$GET_TEMP_PATH/$1.new" -c /usr/share/opencc/s2tw.json
    cp -rf "$GET_TEMP_PATH/$1.new" "$GET_PATH/$1"
else
    echo -e "$1" > "$GET_TEMP_PATH/s2tw.txt"
    opencc -i "$GET_TEMP_PATH/s2tw.txt" -o "$GET_TEMP_PATH/s2tw.new" -c /usr/share/opencc/s2tw.json
    cat "$GET_TEMP_PATH/s2tw.new"
fi
